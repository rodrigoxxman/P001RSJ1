CREATE TABLE Vendedor (
IdVendedor INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
Nombre VARCHAR(30) NOT NULL,
Telefono VARCHAR(30) NOT NULL,
email VARCHAR(50)
);

CREATE TABLE Prevendedor (
IdPrevendedor INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
Nombre VARCHAR(30) NOT NULL,
Telefono VARCHAR(30) NOT NULL,
email VARCHAR(50)
);

CREATE TABLE Empresa (
IdEmpresa INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
Nombre VARCHAR(40) NOT NULL,
Tier VARCHAR(30) NOT NULL,
Industria VARCHAR(50) NULL,
Sector VARCHAR(50) NULL,
Direccion VARCHAR(60) NULL
);

CREATE TABLE Cliente (
IdCliente INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
Nombre VARCHAR(30) NOT NULL,
Direccion VARCHAR(50) NULL,
Telefono VARCHAR(30) NULL,
email VARCHAR(50) NULL,
EmpresaId INT NOT NULL,
FOREIGN KEY (EmpresaId)
    REFERENCES Empresa (IdEmpresa)
    on DELETE CASCADE
);

CREATE TABLE Mayorista (
IdMayorista INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
Nombre VARCHAR(40) NOT NULL);

CREATE TABLE Solucion (
IdSolucion INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
Nombre VARCHAR(30) NOT NULL,
Area VARCHAR(30) NULL,
Marca VARCHAR(50) NULL,
MayoristaId INT NOT NULL,
FOREIGN KEY (MayoristaId)
    REFERENCES Mayorista (IdMayorista)
    on DELETE CASCADE
);


CREATE TABLE Oportunidad (
IdOportunidad INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
Nombre VARCHAR(30) NOT NULL,
FechaOportunidad TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
FechaCierre TIMESTAMP NULL,
MustWin VARCHAR(30),
MontoUSS VARCHAR(30),
PercentWin VARCHAR(30),
Avance VARCHAR(30),
Ponderado VARCHAR(30),
Funnel VARCHAR(30),
Costo VARCHAR(30),
TipoVenta VARCHAR(30),
Mes VARCHAR(30),
Trimestre VARCHAR(30),
Tamano VARCHAR(30),
Relevante VARCHAR(30),
Registrado VARCHAR(30),
Codigo VARCHAR(30),
Facturado VARCHAR(30),
NFac VARCHAR(30),
ClienteId INT NOT NULL,
FOREIGN KEY (ClienteId)
    REFERENCES Cliente (IdCliente)
    on DELETE CASCADE,

SolucionId INT NOT NULL,
FOREIGN KEY (SolucionId)
    REFERENCES Solucion (IdSolucion)
    on DELETE CASCADE,
    
VendedorId INT NOT NULL,
FOREIGN KEY (VendedorId)
    REFERENCES Vendedor (IdVendedor)
    on DELETE CASCADE,
    
PrevendedorId INT NOT NULL,
FOREIGN KEY (PrevendedorId)
    REFERENCES Prevendedor (IdPrevendedor)
    on DELETE CASCADE
);